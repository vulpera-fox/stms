<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

</html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="../css/ProjectMain.css">
	<script src="../js/jquery-3.7.0.min.js"></script>
	<title>Document</title>
</head>

<body>
	<div>
		<div id='container'>
			<div class='searchArea'>
				<div class='searchBar'>
					<div class='upperSearchBar'>
						<input type='text' name="pjt_nm" />
						<a style="width: 20px; height: 20px;"><span class='searchIcon'>
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class='bi bi-search' viewBox="0 0 16 16">
									<path
										d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
								</svg>
							</span></a>
					</div>
					<div class="lowerSearchBar">
						<div class="lowerSearchBarLeft">
							<p class='toggleFilter'>검색 필터</p>
						</div>
						<div class="lowerSearchBarRight">
							<a class="checkRequest" th:href="@{ProjectCreate}">신청 승인</a>
						</div>
					</div>
				</div>
				<div class="filterArea hidden">
					<form action="searchForm" method="post">
						<div class='searchFilterArea'>
							<div class='server_category'>
								<span>서버 종류 : </span>
								<select name='server_category'>
									<option value="1">서버1</option>
									<option value="2">서버2</option>
									<option value="3">서버3</option>
									<option value="4">서버4</option>
								</select>
							</div>
							<div class='pjt_end_dt'>
								<span>마감일 : </span><input type='date' name='pjt_end_dt' />
							</div>
							<div class='ins_user_id'>
								<span>담당자 : </span><input type='text' placeholder='담당자를 입력하세요' name='ins_user_id' />
							</div>
							<div class='filterSubmit'>
								<button type='submit' class="submitBtn">검색</button>
							</div>
						</div>
					</form>
				</div>

			</div>



			<div class='projectArea'>
				<div class='projectBoxContainer' th:each="vo : ${pList}">

					<form action="getDetail" method="get" th:id="getDetail + ${vo.pjt_id}">
					<input type="hidden" th:value="${vo.pjt_id}" name="pjt_id">
						<div th:class='projectBox'>
							<div class='upperBox'>
								<p class='projectName'>[[${vo.pjt_nm}]]</p>
								<p class='typeOfServer'>[[${vo.server_type}]]</p>
							</div>
							<div class='lowerBox'>
								<div style="margin: 30px 0; padding: 0 10px;">
									<div class='lowerBoxLeft'>
										<p class='companyName'>고객사 이름</p>
										<p class='projectManager'>[[${vo.ins_user_id}]]</p>
									</div>
									<div class='lowerBoxRight'>
										<p class='projectStatus'>현재상태</p>
									</div>
									<p></p>
								</div>
								<div>
									<p class='projectPeriod'>마감일 : [[${vo.pjt_end_dt}]]</p>
								</div>
							</div>
						</div>
					</form>
					
				</div>
			</div>
		</div>
	</div>

	<script th:inline="javascript">

		var toggleFilter = document.querySelector(".toggleFilter");
		var filterArea = document.querySelector(".filterArea");

		// toggleFilter.addEventListener('click', (e) => {
		//   filterArea.classList.toggle("hidden");
		// })

		// 필터 열고닫기
		$('.toggleFilter').click((e) => {
			$('.filterArea').toggleClass('hidden');
		})


		$('.projectBox').click((e) => {
			e.currentTarget.parentElement.submit();
		})



	</script>

</body>

</html>